---
title: åŸå‹åŠåŸå‹é“¾
abbrlink: 7be7e7cb
date: 2023-10-11 14:11:11
tags:
  - åŸå‹é“¾
categories: JavaScript æ·±å…¥å­¦ä¹ 
description: ğŸ¤—
top_img: "linear-gradient(38deg, rgba(255, 0, 0, 0.6), rgba(0, 170, 0, 0.6), rgba(0, 0, 255, 0.6), rgba(255, 200, 0, 0.6), rgba(128, 0, 128, 0.6))"
---

# åŸå‹å’ŒåŸå‹é“¾

## æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡

æˆ‘ä»¬å…ˆä½¿ç”¨æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼š

```js
function Person() {}
const person = new Person();
person.name = "ameee9";
console.log(person.name); // ameee9
```

## prototype

æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ª prototype å±æ€§ï¼Œå°±æ˜¯æˆ‘ä»¬ç»å¸¸åœ¨å„ç§ä¾‹å­ä¸­çœ‹åˆ°çš„é‚£ä¸ª prototype ï¼Œæ¯”å¦‚ï¼š

```js
function Person() {}
// prototypeæ˜¯å‡½æ•°æ‰ä¼šæœ‰çš„å±æ€§
Person.prototype.name = "ameee9";
var person1 = new Person();
var person2 = new Person();
console.log(person1.name); // ameee9
console.log(person2.name); // ame ee9
```

å‡½æ•°çš„ `prototype å±æ€§`æŒ‡å‘äº†ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æ­£æ˜¯è°ƒç”¨è¯¥æ„é€ å‡½æ•°è€Œåˆ›å»ºçš„**å®ä¾‹**çš„åŸå‹ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªä¾‹å­ä¸­çš„ person1 å’Œ person2 çš„åŸå‹ã€‚

æ¯ä¸€ä¸ª JavaScript å¯¹è±¡(null é™¤å¤–)åœ¨åˆ›å»ºçš„æ—¶å€™å°±ä¼šä¸ä¹‹å…³è”å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„åŸå‹ï¼Œæ¯ä¸€ä¸ªå¯¹è±¡éƒ½ä¼šä»åŸå‹"ç»§æ‰¿"å±æ€§ã€‚

æ„é€ å‡½æ•°å’Œå®ä¾‹åŸå‹ä¹‹é—´çš„å…³ç³»ï¼š

![1](https://oooooo.oss-cn-fuzhou.aliyuncs.com/readme/202309202302859.png)

åœ¨è¿™å¼ å›¾ä¸­æˆ‘ä»¬ç”¨ Object.prototype è¡¨ç¤ºå®ä¾‹åŸå‹ã€‚

## `_proto_`

è¿™æ˜¯æ¯ä¸€ä¸ª JavaScript å¯¹è±¡(é™¤äº† null )éƒ½å…·æœ‰çš„ä¸€ä¸ªå±æ€§ï¼Œå«`_proto_`ï¼Œè¿™ä¸ªå±æ€§ä¼šæŒ‡å‘è¯¥å¯¹è±¡çš„åŸå‹ã€‚

ä¸ºäº†è¯æ˜è¿™ä¸€ç‚¹,æˆ‘ä»¬å¯ä»¥åœ¨ç«ç‹æˆ–è€…è°·æ­Œä¸­è¾“å…¥ï¼š

```js
function Person() {}
var person = new Person();
// ä½¿ç”¨ __proto__ æ˜¯æœ‰äº‰è®®ä¸”ä¸è¢«é¼“åŠ±çš„ã€‚å®ƒçš„å­˜åœ¨å’Œç¡®åˆ‡è¡Œä¸ºä»…ä½œä¸ºé—ç•™ç‰¹æ€§è¢«æ ‡å‡†åŒ–ï¼Œä»¥ç¡®ä¿ Web å…¼å®¹æ€§ï¼Œä½†å®ƒå­˜åœ¨ä¸€äº›å®‰å…¨é—®é¢˜å’Œéšæ‚£ã€‚
console.log(person.__proto__ === Person.prototype); // true
console.log(Object.getPrototypeOf(person) === Person.prototype); // true
```

æ–°çš„å…³ç³»å›¾ï¼š

![2](https://oooooo.oss-cn-fuzhou.aliyuncs.com/readme/202309202311901.png)

æ—¢ç„¶å®ä¾‹å¯¹è±¡å’Œæ„é€ å‡½æ•°éƒ½å¯ä»¥æŒ‡å‘åŸå‹ï¼Œé‚£ä¹ˆåŸå‹æ˜¯å¦æœ‰å±æ€§æŒ‡å‘æ„é€ å‡½æ•°æˆ–è€…å®ä¾‹å‘¢ï¼Ÿ

## constructor

æŒ‡å‘å®ä¾‹å€’æ˜¯æ²¡æœ‰ï¼Œå› ä¸ºä¸€ä¸ªæ„é€ å‡½æ•°å¯ä»¥ç”Ÿæˆå¤šä¸ªå®ä¾‹ï¼Œä½†æ˜¯åŸå‹æŒ‡å‘æ„é€ å‡½æ•°å€’æ˜¯æœ‰çš„ï¼Œè¿™å°±è¦è®²åˆ°ç¬¬ä¸‰ä¸ªå±æ€§ï¼šconstructorï¼Œæ¯ä¸ªåŸå‹éƒ½æœ‰ä¸€ä¸ª constructor å±æ€§æŒ‡å‘å…³è”çš„æ„é€ å‡½æ•°ã€‚

ä¸ºäº†éªŒè¯è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•ï¼š

```js
function Person() {}
console.log(Person === Person.prototype.constructor); // true
```

æ‰€ä»¥å†æ›´æ–°ä¸‹å…³ç³»å›¾ï¼š

![2](https://oooooo.oss-cn-fuzhou.aliyuncs.com/readme/202309202314771.png)

ç»¼ä¸Šå¯ä»¥å¾—åˆ°ï¼š

```js
function Person() {}

let person = new Person();

console.log(person.__proto__ == Person.prototype); // true
console.log(Person.prototype.constructor == Person); // true
```

äº†è§£äº†æ„é€ å‡½æ•°ã€å®ä¾‹åŸå‹ã€å’Œå®ä¾‹ä¹‹é—´çš„å…³ç³»ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è®²è®²å®ä¾‹å’ŒåŸå‹çš„å…³ç³»ï¼š

## å®ä¾‹ä¸åŸå‹

å½“è¯»å–å®ä¾‹çš„å±æ€§æ—¶ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œå°±ä¼šæŸ¥æ‰¾ä¸å¯¹è±¡å…³è”çš„åŸå‹ä¸­çš„å±æ€§ï¼Œå¦‚æœè¿˜æŸ¥ä¸åˆ°ï¼Œå°±å»æ‰¾åŸå‹çš„åŸå‹ï¼Œä¸€ç›´æ‰¾åˆ°æœ€é¡¶å±‚ä¸ºæ­¢ã€‚

ä¸¾ä¸ªä¾‹å­ï¼š

```js
function Person() {}

Person.prototype.name = "prototype";

var person = new Person();

person.name = "ameee9";
console.log(person.name); // ameee9

delete person.name;
console.log(person.name); // prototype
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ç»™å®ä¾‹å¯¹è±¡ person æ·»åŠ äº† name å±æ€§ï¼Œå½“æˆ‘ä»¬æ‰“å° person.name çš„æ—¶å€™ï¼Œç»“æœè‡ªç„¶ä¸º ameee9ã€‚

ä½†æ˜¯å½“æˆ‘ä»¬åˆ é™¤äº† person çš„ name å±æ€§æ—¶ï¼Œè¯»å– person.nameï¼Œä» person å¯¹è±¡ä¸­æ‰¾ä¸åˆ° name å±æ€§å°±ä¼šä» person çš„åŸå‹ä¹Ÿå°±æ˜¯ person.`__proto__` ï¼Œä¹Ÿå°±æ˜¯ Person.prototype ä¸­æŸ¥æ‰¾ï¼Œå¹¸è¿çš„æ˜¯æˆ‘ä»¬æ‰¾åˆ°äº† name å±æ€§ï¼Œç»“æœä¸º prototype

ä½†æ˜¯ä¸‡ä¸€è¿˜æ²¡æœ‰æ‰¾åˆ°å‘¢ï¼ŸåŸå‹çš„åŸå‹åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ

## åŸå‹çš„åŸå‹

åŸå‹ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ—¢ç„¶æ˜¯å¯¹è±¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨æœ€åŸå§‹çš„æ–¹å¼åˆ›å»ºå®ƒï¼Œé‚£å°±æ˜¯ï¼š

```js
var obj = new Object();
obj.name = "ameee9";
console.log(obj.name); // ameee9
```

å…¶å®åŸå‹å¯¹è±¡å°±æ˜¯é€šè¿‡ Object æ„é€ å‡½æ•°ç”Ÿæˆçš„ï¼Œç»“åˆä¹‹å‰æ‰€è®²ï¼Œå®ä¾‹çš„ **_ proto _** æŒ‡å‘æ„é€ å‡½æ•°çš„ prototype ï¼Œæ‰€ä»¥æˆ‘ä»¬å†æ›´æ–°ä¸‹å…³ç³»å›¾ï¼š

![3](https://oooooo.oss-cn-fuzhou.aliyuncs.com/readme/202309202336407.png)

## åŸå‹é“¾

é‚£ Object.prototype çš„åŸå‹å‘¢ï¼Ÿ

nullï¼Œæˆ‘ä»¬å¯ä»¥æ‰“å°ï¼š

```
console.log(Object.prototype.__proto__ === null) // true
```

> null è¡¨ç¤ºâ€œæ²¡æœ‰å¯¹è±¡â€ï¼Œå³è¯¥å¤„ä¸åº”è¯¥æœ‰å€¼ã€‚

æ‰€ä»¥ Object.prototype.**proto** çš„å€¼ä¸º null è·Ÿ Object.prototype æ²¡æœ‰åŸå‹ï¼Œå…¶å®è¡¨è¾¾äº†ä¸€ä¸ªæ„æ€ã€‚

æ‰€ä»¥æŸ¥æ‰¾å±æ€§çš„æ—¶å€™æŸ¥åˆ° Object.prototype å°±å¯ä»¥åœæ­¢æŸ¥æ‰¾äº†ã€‚

æœ€åä¸€å¼ å…³ç³»å›¾ä¹Ÿå¯ä»¥æ›´æ–°ä¸ºï¼š

[![åŸå‹é“¾ç¤ºæ„å›¾](https://camo.githubusercontent.com/9a69b0f03116884e80cf566f8542cf014a4dd043fce6ce030d615040461f4e5a/68747470733a2f2f63646e2e6a7364656c6976722e6e65742f67682f6d717971696e6766656e672f426c6f672f496d616765732f70726f746f74797065352e706e67)](https://camo.githubusercontent.com/9a69b0f03116884e80cf566f8542cf014a4dd043fce6ce030d615040461f4e5a/68747470733a2f2f63646e2e6a7364656c6976722e6e65742f67682f6d717971696e6766656e672f426c6f672f496d616765732f70726f746f74797065352e706e67)

é¡ºä¾¿è¿˜è¦è¯´ä¸€ä¸‹ï¼Œå›¾ä¸­ç”±ç›¸äº’å…³è”çš„åŸå‹ç»„æˆçš„é“¾çŠ¶ç»“æ„å°±æ˜¯åŸå‹é“¾ï¼Œä¹Ÿå°±æ˜¯è“è‰²çš„è¿™æ¡çº¿ã€‚

## è¡¥å……

### constructor

é¦–å…ˆæ˜¯ constructor å±æ€§ï¼Œæˆ‘ä»¬çœ‹ä¸ªä¾‹å­ï¼š

```js
function Person() {}
var person = new Person();
console.log(person.constructor === Person); // true
```

å½“è·å– person.constructor æ—¶ï¼Œå…¶å® person ä¸­å¹¶æ²¡æœ‰ constructor å±æ€§,å½“ä¸èƒ½è¯»å–åˆ° constructor å±æ€§æ—¶ï¼Œä¼šä» person çš„åŸå‹ä¹Ÿå°±æ˜¯ Person.prototype ä¸­è¯»å–ï¼Œæ­£å¥½åŸå‹ä¸­æœ‰è¯¥å±æ€§ï¼Œæ‰€ä»¥ï¼š

```js
person.constructor === Person.prototype.constructor;
```

> æ¥è‡ª [JavaScript æ·±å…¥ä¹‹ä»åŸå‹åˆ°åŸå‹é“¾](https://github.com/mqyqingfeng/Blog/issues/2)
